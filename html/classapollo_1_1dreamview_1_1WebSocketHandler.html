<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Apollo: apollo::dreamview::WebSocketHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Apollo
   &#160;<span id="projectnumber">6.0</span>
   </div>
   <div id="projectbrief">Open source self driving car software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceapollo.html">apollo</a></li><li class="navelem"><a class="el" href="namespaceapollo_1_1dreamview.html">dreamview</a></li><li class="navelem"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html">WebSocketHandler</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classapollo_1_1dreamview_1_1WebSocketHandler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">apollo::dreamview::WebSocketHandler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html" title="The WebSocketHandler, built on top of CivetWebSocketHandler, is a websocket handler that handles diff...">WebSocketHandler</a>, built on top of CivetWebSocketHandler, is a websocket handler that handles different types of websocket related events.  
 <a href="classapollo_1_1dreamview_1_1WebSocketHandler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="websocket__handler_8h_source.html">websocket_handler.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for apollo::dreamview::WebSocketHandler:</div>
<div class="dyncontent">
<div class="center"><img src="classapollo_1_1dreamview_1_1WebSocketHandler__inherit__graph.png" border="0" usemap="#apollo_1_1dreamview_1_1WebSocketHandler_inherit__map" alt="Inheritance graph"/></div>
<map name="apollo_1_1dreamview_1_1WebSocketHandler_inherit__map" id="apollo_1_1dreamview_1_1WebSocketHandler_inherit__map">
</map>
</div>
<div class="dynheader">
Collaboration diagram for apollo::dreamview::WebSocketHandler:</div>
<div class="dyncontent">
<div class="center"><img src="classapollo_1_1dreamview_1_1WebSocketHandler__coll__graph.png" border="0" usemap="#apollo_1_1dreamview_1_1WebSocketHandler_coll__map" alt="Collaboration graph"/></div>
<map name="apollo_1_1dreamview_1_1WebSocketHandler_coll__map" id="apollo_1_1dreamview_1_1WebSocketHandler_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ab606ed3ffadd48097d2dbde8749fac7b"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ab606ed3ffadd48097d2dbde8749fac7b">Json</a> = nlohmann::json</td></tr>
<tr class="separator:ab606ed3ffadd48097d2dbde8749fac7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae07431b3f97704a79a5ddae710f5dd38"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> = struct mg_connection</td></tr>
<tr class="separator:ae07431b3f97704a79a5ddae710f5dd38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75cd339c5d5ddd5450f89f46ec372310"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#a75cd339c5d5ddd5450f89f46ec372310">MessageHandler</a> = std::function&lt; void(const <a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ab606ed3ffadd48097d2dbde8749fac7b">Json</a> &amp;, <a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> *)&gt;</td></tr>
<tr class="separator:a75cd339c5d5ddd5450f89f46ec372310"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b413cd7a814e9859338a4f3e9b0b109"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#a9b413cd7a814e9859338a4f3e9b0b109">ConnectionReadyHandler</a> = std::function&lt; void(<a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> *)&gt;</td></tr>
<tr class="separator:a9b413cd7a814e9859338a4f3e9b0b109"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a14a25405e1621f9e7c4af428d23b9c31"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#a14a25405e1621f9e7c4af428d23b9c31">WebSocketHandler</a> (const std::string &amp;name)</td></tr>
<tr class="separator:a14a25405e1621f9e7c4af428d23b9c31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5413b915cf4065dfddde486a56cab47"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ab5413b915cf4065dfddde486a56cab47">handleConnection</a> (CivetServer *server, const <a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> *conn) override</td></tr>
<tr class="memdesc:ab5413b915cf4065dfddde486a56cab47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback method for when the client intends to establish a websocket connection, before websocket handshake.  <a href="#ab5413b915cf4065dfddde486a56cab47">More...</a><br /></td></tr>
<tr class="separator:ab5413b915cf4065dfddde486a56cab47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3811807a372f6be55684ef4e4d2e6aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae3811807a372f6be55684ef4e4d2e6aa">handleReadyState</a> (CivetServer *server, <a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> *conn) override</td></tr>
<tr class="memdesc:ae3811807a372f6be55684ef4e4d2e6aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback method for when websocket handshake is successfully completed, and connection is ready for data exchange.  <a href="#ae3811807a372f6be55684ef4e4d2e6aa">More...</a><br /></td></tr>
<tr class="separator:ae3811807a372f6be55684ef4e4d2e6aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f7fa7f80c35c462aae388de56a085bf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#a4f7fa7f80c35c462aae388de56a085bf">handleData</a> (CivetServer *server, <a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> *conn, int bits, char *data, size_t data_len) override</td></tr>
<tr class="memdesc:a4f7fa7f80c35c462aae388de56a085bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback method for when a data frame has been received from the client.  <a href="#a4f7fa7f80c35c462aae388de56a085bf">More...</a><br /></td></tr>
<tr class="separator:a4f7fa7f80c35c462aae388de56a085bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6aa0c24eddbe9177408a14f76208450"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ac6aa0c24eddbe9177408a14f76208450">handleJsonData</a> (<a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> *conn, const std::string &amp;data)</td></tr>
<tr class="separator:ac6aa0c24eddbe9177408a14f76208450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa095687e972e83d269524d6c41cac91e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#aa095687e972e83d269524d6c41cac91e">handleBinaryData</a> (<a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> *conn, const std::string &amp;data)</td></tr>
<tr class="separator:aa095687e972e83d269524d6c41cac91e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7c67654bda4e71aca4d4660a4ce4c1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ab7c67654bda4e71aca4d4660a4ce4c1d">handleClose</a> (CivetServer *server, const <a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> *conn) override</td></tr>
<tr class="memdesc:ab7c67654bda4e71aca4d4660a4ce4c1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback method for when the connection is closed.  <a href="#ab7c67654bda4e71aca4d4660a4ce4c1d">More...</a><br /></td></tr>
<tr class="separator:ab7c67654bda4e71aca4d4660a4ce4c1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e8032a14de16e6bd076ba8884685bcb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#a1e8032a14de16e6bd076ba8884685bcb">BroadcastData</a> (const std::string &amp;data, bool skippable=false)</td></tr>
<tr class="memdesc:a1e8032a14de16e6bd076ba8884685bcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends the provided data to all the connected clients.  <a href="#a1e8032a14de16e6bd076ba8884685bcb">More...</a><br /></td></tr>
<tr class="separator:a1e8032a14de16e6bd076ba8884685bcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a660100596cb4c1d2812dc58dffe7d656"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#a660100596cb4c1d2812dc58dffe7d656">SendData</a> (<a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> *conn, const std::string &amp;data, bool skippable=false, int op_code=MG_WEBSOCKET_OPCODE_TEXT)</td></tr>
<tr class="memdesc:a660100596cb4c1d2812dc58dffe7d656"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends the provided data to a specific connected client.  <a href="#a660100596cb4c1d2812dc58dffe7d656">More...</a><br /></td></tr>
<tr class="separator:a660100596cb4c1d2812dc58dffe7d656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af175dc4ced3f6cd138bae25b83f3502d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#af175dc4ced3f6cd138bae25b83f3502d">SendBinaryData</a> (<a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> *conn, const std::string &amp;data, bool skippable=false)</td></tr>
<tr class="separator:af175dc4ced3f6cd138bae25b83f3502d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59c22679eb17580f5e9964ab08af51d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#a59c22679eb17580f5e9964ab08af51d4">RegisterMessageHandler</a> (std::string type, <a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#a75cd339c5d5ddd5450f89f46ec372310">MessageHandler</a> handler)</td></tr>
<tr class="memdesc:a59c22679eb17580f5e9964ab08af51d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new message handler for a message type.  <a href="#a59c22679eb17580f5e9964ab08af51d4">More...</a><br /></td></tr>
<tr class="separator:a59c22679eb17580f5e9964ab08af51d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6388137b388c6bf39658f7fe0f8ba43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae6388137b388c6bf39658f7fe0f8ba43">RegisterConnectionReadyHandler</a> (<a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#a9b413cd7a814e9859338a4f3e9b0b109">ConnectionReadyHandler</a> handler)</td></tr>
<tr class="memdesc:ae6388137b388c6bf39658f7fe0f8ba43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new handler for new connections.  <a href="#ae6388137b388c6bf39658f7fe0f8ba43">More...</a><br /></td></tr>
<tr class="separator:ae6388137b388c6bf39658f7fe0f8ba43"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html" title="The WebSocketHandler, built on top of CivetWebSocketHandler, is a websocket handler that handles diff...">WebSocketHandler</a>, built on top of CivetWebSocketHandler, is a websocket handler that handles different types of websocket related events. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="ae07431b3f97704a79a5ddae710f5dd38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae07431b3f97704a79a5ddae710f5dd38">&#9670;&nbsp;</a></span>Connection</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">apollo::dreamview::WebSocketHandler::Connection</a> =  struct mg_connection</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9b413cd7a814e9859338a4f3e9b0b109"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b413cd7a814e9859338a4f3e9b0b109">&#9670;&nbsp;</a></span>ConnectionReadyHandler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#a9b413cd7a814e9859338a4f3e9b0b109">apollo::dreamview::WebSocketHandler::ConnectionReadyHandler</a> =  std::function&lt;void(<a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> *)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab606ed3ffadd48097d2dbde8749fac7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab606ed3ffadd48097d2dbde8749fac7b">&#9670;&nbsp;</a></span>Json</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ab606ed3ffadd48097d2dbde8749fac7b">apollo::dreamview::WebSocketHandler::Json</a> =  nlohmann::json</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a75cd339c5d5ddd5450f89f46ec372310"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75cd339c5d5ddd5450f89f46ec372310">&#9670;&nbsp;</a></span>MessageHandler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#a75cd339c5d5ddd5450f89f46ec372310">apollo::dreamview::WebSocketHandler::MessageHandler</a> =  std::function&lt;void(const <a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ab606ed3ffadd48097d2dbde8749fac7b">Json</a> &amp;, <a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> *)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a14a25405e1621f9e7c4af428d23b9c31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14a25405e1621f9e7c4af428d23b9c31">&#9670;&nbsp;</a></span>WebSocketHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">apollo::dreamview::WebSocketHandler::WebSocketHandler </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1e8032a14de16e6bd076ba8884685bcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e8032a14de16e6bd076ba8884685bcb">&#9670;&nbsp;</a></span>BroadcastData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool apollo::dreamview::WebSocketHandler::BroadcastData </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>skippable</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends the provided data to all the connected clients. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The message string to be sent. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa095687e972e83d269524d6c41cac91e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa095687e972e83d269524d6c41cac91e">&#9670;&nbsp;</a></span>handleBinaryData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool apollo::dreamview::WebSocketHandler::handleBinaryData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab7c67654bda4e71aca4d4660a4ce4c1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7c67654bda4e71aca4d4660a4ce4c1d">&#9670;&nbsp;</a></span>handleClose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void apollo::dreamview::WebSocketHandler::handleClose </td>
          <td>(</td>
          <td class="paramtype">CivetServer *&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> *&#160;</td>
          <td class="paramname"><em>conn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback method for when the connection is closed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">server</td><td>the calling server </td></tr>
    <tr><td class="paramname">conn</td><td>the connection information </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab5413b915cf4065dfddde486a56cab47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5413b915cf4065dfddde486a56cab47">&#9670;&nbsp;</a></span>handleConnection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool apollo::dreamview::WebSocketHandler::handleConnection </td>
          <td>(</td>
          <td class="paramtype">CivetServer *&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> *&#160;</td>
          <td class="paramname"><em>conn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback method for when the client intends to establish a websocket connection, before websocket handshake. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">server</td><td>the calling server </td></tr>
    <tr><td class="paramname">conn</td><td>the connection information </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true to keep socket open, false to close it </dd></dl>

</div>
</div>
<a id="a4f7fa7f80c35c462aae388de56a085bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f7fa7f80c35c462aae388de56a085bf">&#9670;&nbsp;</a></span>handleData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool apollo::dreamview::WebSocketHandler::handleData </td>
          <td>(</td>
          <td class="paramtype">CivetServer *&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback method for when a data frame has been received from the client. </p>
<p>In the websocket protocol, data is transmitted using a sequence of frames, and each frame received invokes this callback method. Since the type of opcode (text, binary, etc) is given in the first frame, this method stores the opcode in a thread_local variable named current_opcode_. And data from each frame is accumulated to data_ until the final fragment is detected. See websocket RFC at <a href="http://tools.ietf.org/html/rfc6455,">http://tools.ietf.org/html/rfc6455,</a> section 5.4 for more protocol and fragmentation details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">server</td><td>the calling server </td></tr>
    <tr><td class="paramname">conn</td><td>the connection information </td></tr>
    <tr><td class="paramname">bits</td><td>first byte of the websocket frame, see websocket RFC at <a href="http://tools.ietf.org/html/rfc6455,">http://tools.ietf.org/html/rfc6455,</a> section 5.2 </td></tr>
    <tr><td class="paramname">data</td><td>payload, with mask (if any) already applied. </td></tr>
    <tr><td class="paramname">data_len</td><td>length of data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true to keep socket open, false to close it </dd></dl>

</div>
</div>
<a id="ac6aa0c24eddbe9177408a14f76208450"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6aa0c24eddbe9177408a14f76208450">&#9670;&nbsp;</a></span>handleJsonData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool apollo::dreamview::WebSocketHandler::handleJsonData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae3811807a372f6be55684ef4e4d2e6aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3811807a372f6be55684ef4e4d2e6aa">&#9670;&nbsp;</a></span>handleReadyState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void apollo::dreamview::WebSocketHandler::handleReadyState </td>
          <td>(</td>
          <td class="paramtype">CivetServer *&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> *&#160;</td>
          <td class="paramname"><em>conn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback method for when websocket handshake is successfully completed, and connection is ready for data exchange. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">server</td><td>the calling server </td></tr>
    <tr><td class="paramname">conn</td><td>the connection information </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae6388137b388c6bf39658f7fe0f8ba43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6388137b388c6bf39658f7fe0f8ba43">&#9670;&nbsp;</a></span>RegisterConnectionReadyHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void apollo::dreamview::WebSocketHandler::RegisterConnectionReadyHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#a9b413cd7a814e9859338a4f3e9b0b109">ConnectionReadyHandler</a>&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a new handler for new connections. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>The function to handle the new connection in ReadyState. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a59c22679eb17580f5e9964ab08af51d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59c22679eb17580f5e9964ab08af51d4">&#9670;&nbsp;</a></span>RegisterMessageHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void apollo::dreamview::WebSocketHandler::RegisterMessageHandler </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#a75cd339c5d5ddd5450f89f46ec372310">MessageHandler</a>&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a new message handler for a message type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The name/key to identify the message type. </td></tr>
    <tr><td class="paramname">handler</td><td>The function to handle the received message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af175dc4ced3f6cd138bae25b83f3502d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af175dc4ced3f6cd138bae25b83f3502d">&#9670;&nbsp;</a></span>SendBinaryData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool apollo::dreamview::WebSocketHandler::SendBinaryData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>skippable</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a660100596cb4c1d2812dc58dffe7d656"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a660100596cb4c1d2812dc58dffe7d656">&#9670;&nbsp;</a></span>SendData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool apollo::dreamview::WebSocketHandler::SendData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classapollo_1_1dreamview_1_1WebSocketHandler.html#ae07431b3f97704a79a5ddae710f5dd38">Connection</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>skippable</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>op_code</em> = <code>MG_WEBSOCKET_OPCODE_TEXT</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends the provided data to a specific connected client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The connection to send to. </td></tr>
    <tr><td class="paramname">data</td><td>The message string to be sent. </td></tr>
    <tr><td class="paramname">skippable</td><td>whether the data is allowed to be skipped if some other is being sent to this connection. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>modules/dreamview/backend/handlers/<a class="el" href="websocket__handler_8h_source.html">websocket_handler.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
